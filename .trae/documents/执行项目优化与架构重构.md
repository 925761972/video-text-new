# 执行项目优化：清理冗余与重构后端架构

## 1. 清理冗余文件
- 删除 `oracleJdk-25.jdk/`（无用的大型 Java 环境文件）
- 删除 `.trae/skills/`（无用的 AI 技能文档）

## 2. 后端架构重构 (Server Refactoring)
将 `server/index.js` (880+ 行) 拆分为模块化架构：
- **创建目录结构**:
  - `server/config/`: 存放常量与配置
  - `server/controllers/`: 存放请求处理逻辑
  - `server/middleware/`: 存放中间件 (Error Handler, Logger)
  - `server/routes/`: 存放路由定义
  - `server/services/`: 存放业务逻辑 (支付、订单、签名)

- **代码拆分**:
  - **Config**: 提取 `billingPlans`, `defaultPricing`, `seedAdminBaseIds` 等到 `server/config/constants.js`。
  - **Services**: 
    - 提取支付宝/微信签名验证、解密逻辑到 `server/services/payment.service.js`。
    - 提取订单状态管理 (`billingOrders`, `finalizePaidOrder`) 到 `server/services/order.service.js`。
  - **Controllers & Routes**:
    - `transcribe`: 转写提交与查询。
    - `subscription`: 状态查询与消耗。
    - `billing`: 计费方案、支付回调、Webhooks。
  - **Entry Point**: 重写 `server/index.js`，仅负责组装中间件与路由。

## 3. 验证
- 重启开发服务器。
- 确保 API 接口与页面功能正常。